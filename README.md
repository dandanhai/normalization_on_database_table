# normalization

<h2>Table of Contents</h2>

[1. Background](#1)<br>
[2. Project Directory Structure](#2)<br>
[3. Installing necessary Python packages](#3)<br>
[4. Tutorial](#4)<br>

<h2 id='1'>1. Background</h2>

The main function of this project is to normalize the values under `nationality` column and `gender` column in `customers` table.<br>
<br>
***※Notice: All the files and folders in this repository DO NOT contain any key information like database logging info. So, after pulling all the contents in this repository, PLEASE DO NOT run the python scripts under `scripts` folder directly, otherwise, unnecessary errors will be generated by system.***<br>

<h2 id='2'>2. Project Directory Structure</h2>

- **config.ini** —— This file is used to record key information, like database logging information.
- **display** —— This folder is used to save .csv files. 
  - `gender.csv` and `nationality.csv` are used to display the distribution of each value before normalization.
  - `gender_clean.csv` and `nationality_clean.csv` are used to display the values under `gender` column and `nationality` column after normalization.
- **scripts** —— This folder is used to save formal python files.
  - `gender.py` is used to normalize the values under `gender` column.
  - `nationality.py` is used to normalize the values under `nationality` column.

<h2 id='3'>3. Installing necessary Python packages</h2>

- This project needs `configparser` package and `pymysql` package. So you should use following bash commands to install them before running python scripts under `scripts` folder.
```bash
$ python3 -m pip install configparser
$ python3 -m pip install pymysql
```

<h2 id='4'>4. Tutorial</h2>

- Step1: Download whole project from repository.<br>

```bash
$ cd ~
$ git clone https://github.com/PaceNow/normalization.git
$ cd ~/data-migration-dump
$ git checkout YOUR_TARGET_BRANCH_NAME
$ git pull origin YOUR_TARGET_BRANCH_NAME
```

- Step2: Modify `config.ini`.<br>

```bash
$ cd ~/normalization
$ vim ~/normalization/config.ini
```
The content in `config.ini` should be as followed. And all the `xxxxxx` parts should be modified according to practical situation.
```ini
[database]
USERNAME=xxxxxx
HOST_IP=xxxxxx
PASSWORD=xxxxxx
DATABASE=xxxxxx
```

- Step3: Run `gender.py` and `nationality.py`.<br>

```shell
$ cd ~/normalization/scripts
$ python3 gender.py
$ python3 nationality.py
```